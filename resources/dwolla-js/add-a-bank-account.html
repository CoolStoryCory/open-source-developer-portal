<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Add a bank account | Dwolla API</title><meta name=description content="Quickly integrate instant bank verification for developers using the Dwolla ACH API."><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.2ea9.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.3bcb.js></script><script src=https://cdn.statuspage.io/se-v2.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href="https://www.dwolla.com/contact?b=nav">Let's talk</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/about>Product</a> <a href="/">Developer</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=https://www.dwolla.com/register>Sign up</a> <a class="btn primary" href="https://www.dwolla.com/contact?b=nav">Let's talk</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/">Guides</a> <a href="/resources/" class=active>Resources</a> <a href="https://docsv2.dwolla.com/">API docs</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">SDKs</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Please select a guide</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between users</a> <a href="/guides/webhooks/">Webhooks</a> <a href="/guides/migrate-to-v2/">Migrate to v2</a> <a href="/guides/auth/">Dwolla OAuth 2.0</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div><ol><li><a href=/guides/send-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/send-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/send-money/02-fetch-funding-sources.html>Fetch funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/03-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/send-money/04-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><!-- <section class="side-nav__options" style="display:none">
    <h6>Options</h6>
    <ul>
        <li class="external-link"><a href="https://developers.dwolla.com/dev/pages/guides/masspay" target="_blank"><span class="icon-sidenav-option">MassPay V1</span></a></li>
        <li class="external-link"><a href=""><span class="icon-sidenav-option">Recurring and Scheduled V1</span></a></li>
    </ul>
</section> --><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview</a><div class=dot></div><ol><li><a href=/guides/receive-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/receive-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/receive-money/02-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/01-obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/02-create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/03-validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/04-process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/01-access-token.html>Generate an access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/02-create-verified-customer.html>Create a verified customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/03-attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/04-create-unverified-customer.html>Create an unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/05-attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/06-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/07-check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/migrate-to-v2>Overview: Migrate to v2</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/01-api-v2-principles.html>API v2 principles</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/02-making-requests.html>Making requests</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/03-authentication.html>Authentication</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/04-sdk-support.html>SDK support</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/05-v1-to-v2-endpoint-changes.html>v1 to v2 endpoint changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/06-other-notable-changes.html>Other notable changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/07-faq.html>FAQ</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/auth>Overview: Dwolla OAuth 2.0</a><div class=dot></div></li><li><a href=/guides/auth/authorization-code-flow.html>Authorization code flow (Co-branded)</a><div class=dot></div><ol><li><a href=/guides/auth/oauth-account-creation.html>OAuth account creation</a><div class=dot></div></li></ol></li><li><a href=/guides/auth/client-credentials-flow.html>Client credentials flow (White Label and/or Webhooks)</a><div class=dot></div></li><li><a href=/guides/auth/using-an-access-token.html>Using an access token</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/offsite-gateway>Overview: Off-Site Gateway</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/direct-submit.html>Direct submit option</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/server-to-server.html>Server-to-server option</a><div class=dot></div></li></ol></section><section class=side-nav__options style=display:none><h6>API v1 Resources</h6><ul><li><a href="/guides/offsite-gateway/"><span>Off-Site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav active"><section><h6>Tools</h6><ul><li><a href=/resources/sandbox-console.html>Sandbox Console</a></li><li><a href=/resources/token-generator.html>Token generator</a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="http://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>Articles</h6><ul><li><a href=/resources/account-types.html>Account types</a><ul><li><a href=/resources/account-types/traditional-accounts.html>Traditional accounts</a></li><li><a href=/resources/account-types/white-label-accounts.html>White Label accounts</a></li></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/customer-verification.html>Customer verification</a><ul><li><a href=/resources/customer-verification/personal-verified-customers.html>Personal verified Customers</a></li><li><a href=/resources/customer-verification/business-verified-customers.html>Business verified Customers</a></li><li><a href=/resources/customer-verification/handling-verification-statuses.html>Handling verification statuses</a></li></ul></li><li><a href=/resources/dwolla-js.html class=active>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html class=active>Add a bank account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator Fee</a><ul></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/oauth-refresh-strategies.html>OAuth refresh strategies</a><ul><li><a href=/resources/oauth-refresh-strategies/preemptively-refresh.html>Preemptively refresh authorization</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-on-demand.html>Refresh on-demand</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-best-practices.html>Refresh best practices</a></li></ul></li><li><a href=/resources/testing.html>Testing</a><ul></ul></li></ul></section><section class=side-nav__options><h6>API v1 Resources</h6><ul><li><a href="/guides/offsite-gateway/"><span>Off-site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docsv2.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docsv2.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docsv2.dwolla.com/#customers>Customers</a></li><li><a href=https://docsv2.dwolla.com/#documents>Documents</a></li><li><a href=https://docsv2.dwolla.com/#sources>Funding Sources</a></li><li><a href=https://docsv2.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docsv2.dwolla.com/#events>Events</a></li><li><a href=https://docsv2.dwolla.com/#subscriptions>Webhook Subscriptions</a></li><li><a href=https://docsv2.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav></section><section class=cnt-two-col__content><h1>Dwolla.js</h1><h2>Add a bank account</h2><p>Using dwolla.js, securely transmit sensitive data (bank account and routing number) to Dwolla without the data passing through your server. This resource guide will walk you through the process of generating a funding sources token, collecting the user&rsquo;s bank account information, and calling a JavaScript function to send this data to Dwolla. When you collect and submit the user&rsquo;s bank account information, dwolla.js has built-in validation that will trigger an error if any of the required fields are invalid.</p><h3>dwolla.fundingSources.create()</h3><table><thead><tr><th>Param</th><th>Type</th><th>Value</th></tr></thead><tbody><tr><td>funding-sources-token</td><td>string</td><td>A funding sources token generated on your server.</td></tr><tr><td>params</td><td>object</td><td>An object containing params to create a funding source. Contains keys: <code>routingNumber</code>, <code>accountNumber</code>, <code>type</code>, and <code>name</code>. See example below.<br><code>routingNumber</code> represents a string value nine digit routing number.<br><code>accountNumber</code> represents a string value account number.<br><code>type</code> represents a string value of either <code>checking</code> or <code>savings</code>.<br><code>name</code> represents a string value identifying name of the user&rsquo;s bank.</td></tr><tr><td>callback</td><td>function</td><td>A callback function that handles the response from Dwolla.</td></tr></tbody></table><h4>Example</h4><div class="code-snippet js-code-snippet language-javascriptnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-javascriptnohide data-lang=javascriptnohide><span class=nx>dwolla</span><span class=p>.</span><span class=nx>fundingSources</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=s1>'1zN400zyPUobbdmeNfhTGH2Jh5JkFREJa9YBI8SLXp0ERXNTMT'</span><span class=p>,</span> <span class=p>{</span>
  <span class=na>routingNumber</span><span class=p>:</span> <span class=nx>getVal</span><span class=p>(</span><span class=s1>'routingNumber'</span><span class=p>),</span>
  <span class=na>accountNumber</span><span class=p>:</span> <span class=nx>getVal</span><span class=p>(</span><span class=s1>'accountNumber'</span><span class=p>),</span>
  <span class=na>type</span><span class=p>:</span> <span class=nx>getVal</span><span class=p>(</span><span class=s1>'type'</span><span class=p>),</span>
  <span class=na>name</span><span class=p>:</span> <span class=nx>getVal</span><span class=p>(</span><span class=s1>'name'</span><span class=p>)</span>
<span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Error: '</span> <span class=o>+</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=o>+</span> <span class=s1>' -- Response: '</span> <span class=o>+</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>res</span><span class=p>));</span>
<span class=p>});</span>
</code></pre></div></div><h3>Step 1: Generate a funding sources token</h3><p>Before calling a function within dwolla.js to add a new funding source, you need to generate a funding sources token. Your server initiates a POST request to Dwolla, specifying for which Dwolla account or white label Customer you want to add a bank account. Dwolla will respond with a funding sources <code>token</code> that expires in an hour. This token will be sent to the client and used to authenticate the HTTP request asking Dwolla to add a new funding source.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>curl -X POST 
\ -H "Content-Type: application/vnd.dwolla.v1.hal+json"
\ -H "Accept: application/vnd.dwolla.v1.hal+json"
\ -H "Authorization: Bearer qe634nV7dIYpYDf3VGZPciziPU2BCboUZ7G7EG8XEyGswKkBV5"
\ "https://api-uat.dwolla.com/customers/28138609-30FF-4607-B28C-4A3872F8FD4A/funding-sources-token"

HTTP/1.1 200 OK
{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/customers/28138609-30ff-4607-b28c-4a3872f8fd4a/funding-sources-token"
    }
  },
  "token": "Z9BvpNuSrsI7Ke1mcGmTT0EpwW34GSmDaYP09frCpeWdq46JUg"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>customer_url</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"</span><span class=si>#{</span><span class=n>customer_url</span><span class=si>}</span><span class=s2>/funding-sources-token"</span>
<span class=n>customer</span><span class=p>.</span><span class=nf>token</span> <span class=c1># =&gt; "Z9BvpNuSrsI7Ke1mcGmTT0EpwW34GSmDaYP09frCpeWdq46JUg"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>customer</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>CustomersApi</span><span class=p>.</span><span class=nf>create_funding_sources_token_for_customer</span><span class=p>(</span><span class=n>customer_url</span><span class=p>)</span>
<span class=n>customer</span><span class=p>.</span><span class=nf>token</span> <span class=c1># =&gt; "Z9BvpNuSrsI7Ke1mcGmTT0EpwW34GSmDaYP09frCpeWdq46JUg"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=c1>// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class=kd>var</span> <span class=nx>customerUrl</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/customers/28138609-30ff-4607-b28c-4a3872f8fd4a'</span><span class=p>;</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=err>`</span><span class=nx>$</span><span class=p>{</span><span class=nx>customerUrl</span><span class=p>}</span><span class=sr>/funding-sources-token`</span><span class=err>)
</span>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>token</span><span class=p>;</span> <span class=c1>// =&gt; 'Z9BvpNuSrsI7Ke1mcGmTT0EpwW34GSmDaYP09frCpeWdq46JUg'</span>
  <span class=p>});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>customer_url</span> <span class=o>=</span> <span class=s>'http://api.dwolla.com/customers/28138609-30ff-4607-b28c-4a3872f8fd4a'</span>
<span class=n>customers_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>CustomersApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>

<span class=n>token</span> <span class=o>=</span> <span class=n>customers_api</span><span class=o>.</span><span class=n>create_funding_sources_token_for_customer</span><span class=p>(</span><span class=n>customer_url</span><span class=p>)</span>
<span class=k>print</span> <span class=n>token</span><span class=p>[</span><span class=s>'token'</span><span class=p>]</span> <span class=c># =&gt; 'Z9BvpNuSrsI7Ke1mcGmTT0EpwW34GSmDaYP09frCpeWdq46JUg'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$customersApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\CustomersApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$fsToken</span> <span class=o>=</span> <span class=nv>$customersApi</span><span class=o>-&gt;</span><span class=na>createFundingSourcesTokenForCustomer</span><span class=p>(</span><span class=s2>"https://api-uat.dwolla.com/customers/28138609-30ff-4607-b28c-4a3872f8fd4a"</span><span class=p>);</span>
<span class=nv>$fsToken</span><span class=o>-&gt;</span><span class=na>token</span><span class=p>;</span> <span class=c1># =&gt; "Z9BvpNuSrsI7Ke1mcGmTT0EpwW34GSmDaYP09frCpeWdq46JUg"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><h3>Step 2: Add form to collect bank account information</h3><p>You&rsquo;ll then add a form to the body of the page where you want to collect the user&rsquo;s bank account information.</p><div class="code-snippet js-code-snippet language-htmlnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-htmlnohide data-lang=htmlnohide><span class=nt>&lt;form&gt;</span>
  <span class=nt>&lt;div&gt;</span>
    <span class=nt>&lt;label&gt;</span>Routing number<span class=nt>&lt;/label&gt;</span>
    <span class=nt>&lt;input</span> <span class=na>type=</span><span class=s>"text"</span> <span class=na>id=</span><span class=s>"routingNumber"</span> <span class=na>placeholder=</span><span class=s>"273222226"</span> <span class=nt>/&gt;</span>
  <span class=nt>&lt;/div&gt;</span>
  <span class=nt>&lt;div&gt;</span>
    <span class=nt>&lt;label&gt;</span>Account number<span class=nt>&lt;/label&gt;</span>
    <span class=nt>&lt;input</span> <span class=na>type=</span><span class=s>"text"</span> <span class=na>id=</span><span class=s>"accountNumber"</span> <span class=na>placeholder=</span><span class=s>"Account number"</span> <span class=nt>/&gt;</span>
  <span class=nt>&lt;/div&gt;</span>
  <span class=nt>&lt;div&gt;</span>
    <span class=nt>&lt;label&gt;</span>Bank account name<span class=nt>&lt;/label&gt;</span>
    <span class=nt>&lt;input</span> <span class=na>type=</span><span class=s>"text"</span> <span class=na>id=</span><span class=s>"name"</span> <span class=na>placeholder=</span><span class=s>"Name"</span> <span class=nt>/&gt;</span>
  <span class=nt>&lt;/div&gt;</span>
  <span class=nt>&lt;div&gt;</span>
    <span class=nt>&lt;select</span> <span class=na>name=</span><span class=s>"type"</span> <span class=na>id=</span><span class=s>"type"</span><span class=nt>&gt;</span>
      <span class=nt>&lt;option</span> <span class=na>value=</span><span class=s>"checking"</span><span class=nt>&gt;</span>Checking<span class=nt>&lt;/option&gt;</span>
      <span class=nt>&lt;option</span> <span class=na>value=</span><span class=s>"savings"</span><span class=nt>&gt;</span>Savings<span class=nt>&lt;/option&gt;</span>
    <span class=nt>&lt;/select&gt;</span>
  <span class=nt>&lt;/div&gt;</span>
  <span class=nt>&lt;div&gt;</span>
    <span class=nt>&lt;input</span> <span class=na>type=</span><span class=s>"submit"</span> <span class=na>value=</span><span class=s>"Add Bank"</span><span class=nt>&gt;</span>
  <span class=nt>&lt;/div&gt;</span>
<span class=nt>&lt;/form&gt;</span>

<span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"logs"</span><span class=nt>&gt;</span>
<span class=nt>&lt;/div&gt;</span>
</code></pre></div></div><h3>Step 3: Configure and call JavaScript function to create a new funding source</h3><p>Assuming <code>dwolla.js</code> is already included and configured on your page, you will create the function that will call <code>dwolla.fundingSources.create()</code>. For this example, jQuery is used to call the function that creates a funding source when the user clicks the &ldquo;Add Bank&rdquo; button on your page. To test in the sandbox environment, use the <code>dwolla.configure()</code> helper function and pass in the value of <code>uat</code>.</p><p>In our example, <code>dwolla.fundingSources.create()</code> takes three arguments: a string value of the funding sources token, JavaScript object containing bank account information entered by the user, and a callback function that will handle any error or response.</p><div class="code-snippet js-code-snippet language-javascriptnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-javascriptnohide data-lang=javascriptnohide><span class=nx>$</span><span class=p>(</span><span class=s1>'form'</span><span class=p>).</span><span class=nx>on</span><span class=p>(</span><span class=s1>'submit'</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
  <span class=nx>dwolla</span><span class=p>.</span><span class=nx>configure</span><span class=p>(</span><span class=s1>'uat'</span><span class=p>);</span>
  <span class=kd>var</span> <span class=nx>token</span> <span class=o>=</span> <span class=s1>'Z9BvpNuSrsI7Ke1mcGmTT0EpwW34GSmDaYP09frCpeWdq46JUg'</span><span class=p>;</span>
  <span class=kd>var</span> <span class=nx>bankInfo</span> <span class=o>=</span> <span class=p>{</span>
    <span class=na>routingNumber</span><span class=p>:</span> <span class=nx>$</span><span class=p>(</span><span class=s1>'routingNumber'</span><span class=p>).</span><span class=nx>val</span><span class=p>(),</span>
    <span class=na>accountNumber</span><span class=p>:</span> <span class=nx>$</span><span class=p>(</span><span class=s1>'accountNumber'</span><span class=p>).</span><span class=nx>val</span><span class=p>(),</span>
    <span class=na>type</span><span class=p>:</span> <span class=nx>$</span><span class=p>(</span><span class=s1>'type'</span><span class=p>).</span><span class=nx>val</span><span class=p>(),</span>
    <span class=na>name</span><span class=p>:</span> <span class=nx>$</span><span class=p>(</span><span class=s1>'name'</span><span class=p>).</span><span class=nx>val</span><span class=p>()</span>
  <span class=p>}</span>
  <span class=nx>dwolla</span><span class=p>.</span><span class=nx>fundingSources</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>token</span><span class=p>,</span> <span class=nx>bankInfo</span><span class=p>,</span> <span class=nx>callback</span><span class=p>);</span>
  <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
<span class=p>});</span>

<span class=kd>function</span> <span class=nx>callback</span><span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>$div</span> <span class=o>=</span> <span class=nx>$</span><span class=p>(</span><span class=s1>'&lt;div /&gt;'</span><span class=p>);</span>
  <span class=kd>var</span> <span class=nx>logValue</span> <span class=o>=</span> <span class=p>{</span>
    <span class=na>error</span><span class=p>:</span> <span class=nx>err</span><span class=p>,</span>
    <span class=na>response</span><span class=p>:</span> <span class=nx>res</span>
  <span class=p>};</span>
  <span class=nx>$div</span><span class=p>.</span><span class=nx>text</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>logValue</span><span class=p>));</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>logValue</span><span class=p>);</span>
  <span class=nx>$</span><span class=p>(</span><span class=s1>'#logs'</span><span class=p>).</span><span class=nx>append</span><span class=p>(</span><span class=nx>$div</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></div><h3>Step 4: Callback function - handling the error or response</h3><p>The callback function (err, res) allows you to determine if there is an error with the request (e.g. <code>Routing number invalid.</code>) or if the response was successful. In the example above, we are displaying any error or response within a <code>logs</code> container on our page.</p><ul><li>If there is an error: Display the error to the user to have them correct any fields, and have them re-attempt to add their bank.<ul><li>Example: <code>{&quot;error&quot;:{&quot;code&quot;:&quot;ValidationError&quot;,&quot;message&quot;:&quot;Validation error(s) present. See embedded errors list for more details.&quot;,&quot;_embedded&quot;:{&quot;errors&quot;:[{&quot;code&quot;:&quot;Invalid&quot;,&quot;message&quot;:&quot;Routing number invalid.&quot;,&quot;path&quot;:&quot;/routingNumber&quot;}]}}}</code></li></ul></li><li>If successful: You will receive a JSON response that includes a link to the newly attached funding source.<ul><li>Example: <code>{&quot;error&quot;:null,&quot;response&quot;:{&quot;_links&quot;:{&quot;funding-source&quot;:{&quot;href&quot;:&quot;https://api-uat.dwolla.com/funding-sources/746d5c93-acb9-4826-a9c1-78ecf16401a6&quot;}}}}</code></li></ul></li></ul><hr><h4>View:</h4><ul><li><a href=/resources/dwolla-js.html>Dwolla.js - Overview</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul><hr><footer><div class=page-wrap><nav><h6>Product</h6><a href=https://www.dwolla.com/about>Tools & API</a> <a href=https://developers.dwolla.com>Developer</a> <a href=https://www.dwolla.com/bank-transfers>Bank Transfers</a> <a href=https://www.dwolla.com/mass-payments-api>Mass Payments</a> <a href=https://www.dwolla.com/same-day-ach>Same Day ACH</a> <a href=https://www.dwolla.com/white-label>ACH Transfer API</a> <a href=https://www.dwolla.com/ach-transfer-dashboard>Dashboard & Admin</a> <a href=https://www.dwolla.com/dwollajs-bank-verification>Instant Account Verification</a></nav><nav><h6>Account</h6><a href=https://www.dwolla.com/register>Sign up</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=http://help.dwolla.com>Support</a> <a href=https://www.dwolla.com/security>Security</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy</a> <a href="https://www.dwolla.com/legal/tos/">Legal</a></nav><nav><h6>Case Studies</h6><a href="https://www.dwolla.com/updates/case-study-delivery-platform-leverages-dwolla-ach-api-for-payouts/">On-Demand Payouts</a> <a href="https://www.dwolla.com/updates/case-study-instagram-ad-platform-leverages-dwolla-api-for-payouts/">Ad Platform</a> <a href="https://www.dwolla.com/updates/dwolla-case-study-featuring-goat-for-ach-payouts/">Marketplace Payouts</a> <a href="https://www.dwolla.com/updates/kill-bill-adds-dwolla-to-offer-subscription-billing-with-ach-payments/">Subscription Billing</a> <a href="https://www.dwolla.com/updates/case-study-how-a-leading-rental-management-platform-used-an-ach-api/">Rental Collection</a> <a href="https://www.dwolla.com/updates/case-study-how-sweep-uses-dwolla-ach-api-for-bank-transfers/">Savings Tool</a> <a href="https://www.dwolla.com/updates/solar-investing-platform-uses-dwolla-api-to-power-bank-transfers/">Investment Platform</a> <a href="https://www.dwolla.com/updates/case-study-clear-capital-streamlines-disbursements-with-dwolla/">B2B Disbursements</a></nav><nav><h6>Learn more</h6><a href=https://www.dwolla.com/press>Press</a> <a href=https://www.dwolla.com/updates>Updates</a> <a href=https://www.dwolla.com/careers>Careers</a> <a href=https://www.dwolla.com/contact>Let's talk</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p></div></section><section class=copyright><div class=page-wrap><div><span>© 2016 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.3a68.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script></body></html>