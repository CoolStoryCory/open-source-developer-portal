<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Transfer failures | Dwolla API</title><meta name=description content="Bank transfer API to programmatically send money online"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.2ea9.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.3bcb.js></script><script src=https://cdn.statuspage.io/se-v2.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href="https://www.dwolla.com/contact?b=nav">Let's talk</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/about>Product</a> <a href="/">Developer</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=https://accounts.dwolla.com/interest>Sign up</a> <a class="btn primary" href="https://www.dwolla.com/contact?b=nav">Let's talk</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/">Guides</a> <a href="/resources/" class=active>Resources</a> <a href="https://docsv2.dwolla.com/">API docs</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">SDKs</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Please select a guide</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between users</a> <a href="/guides/webhooks/">Webhooks</a> <a href="/guides/migrate-to-v2/">Migrate to v2</a> <a href="/guides/auth/">Dwolla OAuth 2.0</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div><ol><li><a href=/guides/send-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/send-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/send-money/02-fetch-funding-sources.html>Fetch funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/03-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/send-money/04-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><!-- <section class="side-nav__options" style="display:none">
    <h6>Options</h6>
    <ul>
        <li class="external-link"><a href="https://developers.dwolla.com/dev/pages/guides/masspay" target="_blank"><span class="icon-sidenav-option">MassPay V1</span></a></li>
        <li class="external-link"><a href=""><span class="icon-sidenav-option">Recurring and Scheduled V1</span></a></li>
    </ul>
</section> --><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview</a><div class=dot></div><ol><li><a href=/guides/receive-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/receive-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/receive-money/02-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/01-obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/02-create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/03-validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/04-process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/01-access-token.html>Generate an access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/02-create-verified-customer.html>Create a verified customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/03-attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/04-create-unverified-customer.html>Create an unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/05-attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/06-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/07-check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/migrate-to-v2>Overview: Migrate to v2</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/01-api-v2-principles.html>API v2 principles</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/02-making-requests.html>Making requests</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/03-authentication.html>Authentication</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/04-sdk-support.html>SDK support</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/05-v1-to-v2-endpoint-changes.html>v1 to v2 endpoint changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/06-other-notable-changes.html>Other notable changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/07-faq.html>FAQ</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/auth>Overview: Dwolla OAuth 2.0</a><div class=dot></div></li><li><a href=/guides/auth/authorization-code-flow.html>Authorization code flow (Co-branded)</a><div class=dot></div><ol><li><a href=/guides/auth/oauth-account-creation.html>OAuth account creation</a><div class=dot></div></li></ol></li><li><a href=/guides/auth/client-credentials-flow.html>Client credentials flow (White Label and/or Webhooks)</a><div class=dot></div></li><li><a href=/guides/auth/using-an-access-token.html>Using an access token</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/offsite-gateway>Overview: Off-Site Gateway</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/direct-submit.html>Direct submit option</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/server-to-server.html>Server-to-server option</a><div class=dot></div></li></ol></section><section class=side-nav__options style=display:none><h6>API v1 Resources</h6><ul><li><a href="/guides/offsite-gateway/"><span>Off-Site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav active"><section><h6>Tools</h6><ul><li><a href=/resources/sandbox-console.html>Sandbox Console</a></li><li><a href=/resources/token-generator.html>Token generator</a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="http://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>Articles</h6><ul><li><a href=/resources/account-types.html>Account types</a><ul><li><a href=/resources/account-types/traditional-accounts.html>Traditional accounts</a></li><li><a href=/resources/account-types/white-label-accounts.html>White Label accounts</a></li></ul></li><li><a href=/resources/bank-transfer-workflow.html class=active>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html class=active>Transfer failures</a></li></ul></li><li><a href=/resources/customer-verification.html>Customer verification</a><ul><li><a href=/resources/customer-verification/personal-verified-customers.html>Personal verified Customers</a></li><li><a href=/resources/customer-verification/business-verified-customers.html>Business verified Customers</a></li><li><a href=/resources/customer-verification/handling-verification-statuses.html>Handling verification statuses</a></li></ul></li><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a bank account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator Fee</a><ul></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/oauth-refresh-strategies.html>OAuth refresh strategies</a><ul><li><a href=/resources/oauth-refresh-strategies/preemptively-refresh.html>Preemptively refresh authorization</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-on-demand.html>Refresh on-demand</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-best-practices.html>Refresh best practices</a></li></ul></li><li><a href=/resources/testing.html>Testing</a><ul></ul></li></ul></section><section class=side-nav__options><h6>API v1 Resources</h6><ul><li><a href="/guides/offsite-gateway/"><span>Off-site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docsv2.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docsv2.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docsv2.dwolla.com/#customers>Customers</a></li><li><a href=https://docsv2.dwolla.com/#documents>Documents</a></li><li><a href=https://docsv2.dwolla.com/#sources>Funding Sources</a></li><li><a href=https://docsv2.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docsv2.dwolla.com/#events>Events</a></li><li><a href=https://docsv2.dwolla.com/#subscriptions>Webhook Subscriptions</a></li><li><a href=https://docsv2.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav></section><section class=cnt-two-col__content><h1>Bank transfer workflow</h1><h2>Transfer failures</h2><p>There are several reasons bank transfers can fail, a few of which are outlined below. When a transfer fails it is usually a result of an ACH failure which is assigned an ACH return code after being rejected from the financial institution. A few common failure cases include:</p><ul><li><strong>Insufficient Funds (R01):</strong> Pending transfers can fail due to insufficient funds from the source bank account.</li><li><strong>No Account/Unable to Locate Account (R03):</strong> The recipient of a transfer has closed their bank account or has incorrectly entered their bank account/routing number when attaching their funding source.</li><li><strong>Customer Advises Not Authorized (R10):</strong> The owner of a bank account has told their bank that this transfer was unauthorized.</li></ul><h3>What occurs in the Dwolla system when a bank transfer fails?</h3><p>Bank accounts will automatically be removed from the Dwolla system for all ACH return codes except an <code>R01</code>. If subscribed to webhooks, your application will receieve a webhook with the <code>funding_source_removed</code> event along with the <code>transfer_failed</code> event.</p><p>When a bank transfer fails from a verified account (e.g. <a href=/resources/account-types/traditional-accounts.html>Traditional CIP Verified</a> or <a href=/resources/account-types/white-label-accounts.html>White Label Verified Customer</a> to a recipient), funds will return to the sending account’s Dwolla balance. For other transfer scenarios, funds will return to the source bank account.</p><h3>Retrieving the reason for a failed bank transfer</h3><p>When a bank transfer fails its status will be updated to <code>failed</code>. If your application is subscribed to webhooks, you’ll receive either the <code>transfer_failed</code> event if the transfer belongs to a Dwolla account or the <code>customer_transfer_failed</code> event if the transfer belongs to a White Label Customer. The event contains a links to the associated account as well as the transfer resource. To get the return code and reason for the transfer failure you’ll first retrieve the transfer by its ID.</p><h4>Request and response (view schema in &lsquo;raw&rsquo;)</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>GET https://api.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "source": {
      "href": "https://api-uat.dwolla.com/funding-sources/71afa37f-17ca-4132-9646-fd3ab83fc8b5",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "funding-source"
    },
    "destination": {
      "href": "https://api-uat.dwolla.com/customers/99dd22de-6ec6-4ba1-a0d1-09eb169a4bb1",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "customer"
    },
    "failure": {
      "href": "https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388/failure",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "failure"
    }
  },
  "id": "8997ebed-69be-e611-80ea-0aa34a9b2388",
  "status": "failed",
  "amount": {
    "value": "442.00",
    "currency": "usd"
  },
  "created": "2016-12-09T23:48:11.910Z",
  "clearing": {
    "source": "standard"
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>transfer_url</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=c1># For white label applications, an app_token can be used for this endpoint. (https://docsv2.dwolla.com/#application-access-token)</span>
<span class=n>transfer</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>get</span> <span class=n>transfer_url</span>
<span class=n>transfer</span><span class=p>.</span><span class=nf>status</span> <span class=c1># =&gt; "failed"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>transfer</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>TransfersApi</span><span class=p>.</span><span class=nf>by_id</span><span class=p>(</span><span class=n>transfer_url</span><span class=p>)</span>
<span class=n>transfer</span><span class=p>.</span><span class=nf>status</span> <span class=c1># =&gt; "failed"</span>

<span class=n>transfer</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>TransfersApi</span><span class=p>.</span><span class=nf>by_id</span><span class=p>(</span><span class=s1>'https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>transferUrl</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span><span class=p>;</span>

<span class=c1>// For white label applications, an appToken can be used for this endpoint. (https://docsv2.dwolla.com/#application-access-token)</span>
<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>transferUrl</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>res</span> <span class=o>=&gt;</span> <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>status</span><span class=p>);</span> <span class=c1>// =&gt; 'failed'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>transfer_url</span> <span class=o>=</span> <span class=s>'https://api.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=c># For white label applications, an app_token can be used for this endpoint. (https://docsv2.dwolla.com/#application-access-token)</span>
<span class=n>fees</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>transfer_url</span><span class=p>)</span>
<span class=n>fees</span><span class=o>.</span><span class=n>body</span><span class=p>[</span><span class=s>'status'</span><span class=p>]</span> <span class=c># =&gt; 'failed'</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>transfers_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>TransfersApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>transfer</span> <span class=o>=</span> <span class=n>transfers_api</span><span class=o>.</span><span class=n>by_id</span><span class=p>(</span><span class=n>transfer_url</span><span class=p>)</span>
<span class=n>transfer</span><span class=o>.</span><span class=n>status</span> <span class=c># =&gt; 'failed'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$transferUrl</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span><span class=p>;</span>

<span class=nv>$transfersApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\TransfersApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$transfer</span> <span class=o>=</span> <span class=nv>$transfersApi</span><span class=o>-&gt;</span><span class=na>byId</span><span class=p>(</span><span class=nv>$transferUrl</span><span class=p>);</span>
<span class=nv>$transfer</span><span class=o>-&gt;</span><span class=na>status</span><span class=p>;</span> <span class=c1># =&gt; "failed"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><p>Dwolla returns a <code>failure</code> link within the response that can be used to lookup the ACH return code and corresponding description.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>GET https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388/failure
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388/failure"
    }
  },
  "code": "R1",
  "description": "Insufficient Funds"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>transfer_url</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class=c1># For white label applications, an app_token can be used for this endpoint. (https://docsv2.dwolla.com/#application-access-token)</span>
<span class=n>failure</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>get</span> <span class=s2>"</span><span class=si>#{</span><span class=n>transfer_url</span><span class=si>}</span><span class=s2>/failure"</span>
<span class=n>failure</span><span class=p>.</span><span class=nf>code</span> <span class=c1># =&gt; "R1"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$transfer</span> <span class=o>=</span> <span class=s1>'8997ebed-69be-e611-80ea-0aa34a9b2388'</span><span class=p>;</span>

<span class=nv>$TransfersApi</span> <span class=o>=</span> <span class=nx>DwollaSwagger\TransfersApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$failureReason</span> <span class=o>=</span> <span class=nv>$TransfersApi</span><span class=o>-&gt;</span><span class=na>failureById</span><span class=p>(</span><span class=nv>$transfer</span><span class=p>);</span>
<span class=k>print</span><span class=p>(</span><span class=nv>$failureReason</span><span class=o>-&gt;</span><span class=na>status</span><span class=p>);</span> <span class=c1># =&gt; "R01"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>transfer_url</span> <span class=o>=</span> <span class=s>'https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=c># For white label applications, an app_token can be used for this endpoint. (https://docsv2.dwolla.com/#application-access-token)</span>
<span class=n>failure</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s>'</span><span class=si>%</span><span class=s>s/failure'</span> <span class=o>%</span> <span class=n>transfer_url</span><span class=p>)</span>
<span class=n>failure</span><span class=o>.</span><span class=n>body</span><span class=p>[</span><span class=s>'code'</span><span class=p>]</span> <span class=c># =&gt; 'R1'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>transferUrl</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388'</span><span class=p>;</span>

<span class=c1>// For white label applications, an appToken can be used for this endpoint. (https://docsv2.dwolla.com/#application-access-token)</span>
<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=err>`</span><span class=nx>$</span><span class=p>{</span><span class=nx>transferUrl</span><span class=p>}</span><span class=sr>/failure`</span><span class=err>)
</span>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>res</span> <span class=o>=&gt;</span> <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>code</span><span class=p>);</span> <span class=c1>// =&gt; 'R1'</span>
</code></pre></div></div><h3>List of possible return codes and descriptions</h3><table class="table table-bordered table-striped"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td>R01</td><td>Insufficient Funds</td></tr><tr><td>R02</td><td>Account Closed</td></tr><tr><td>R03</td><td>No Account/Unable to Locate Account</td></tr><tr><td>R04</td><td>Invalid Account Number Structure</td></tr><tr><td>R05</td><td>Unauthorized Debit to Consumer Account Using Corporate SEC Code</td></tr><tr><td>R06</td><td>Returned per ODFI&rsquo;s Request</td></tr><tr><td>R07</td><td>Authorization Revoked by Customer</td></tr><tr><td>R08</td><td>Payment Stopped</td></tr><tr><td>R09</td><td>Uncollected Funds</td></tr><tr><td>R10</td><td>Customer Advises Not Authorized, Improper, or Ineligible</td></tr><tr><td>R11</td><td>Check Truncation Entry Returned</td></tr><tr><td>R12</td><td>Account Sold to Another DFI</td></tr><tr><td>R13</td><td>Invalid ACH Routing Number</td></tr><tr><td>R14</td><td>Representative Payee Deceased or Unable to Continue in that Capacity</td></tr><tr><td>R15</td><td>Beneficiary or Account Holder (Other Than a Representative Payee) Deceased</td></tr><tr><td>R16</td><td>Account Frozen</td></tr><tr><td>R17</td><td>File Record Edit Criteria</td></tr><tr><td>R18</td><td>Improper Effective Entry Date</td></tr><tr><td>R19</td><td>Amount Field Error</td></tr><tr><td>R20</td><td>Non-Transaction Account</td></tr><tr><td>R21</td><td>Invalid Company Identification</td></tr><tr><td>R22</td><td>Invalid Individual ID Number</td></tr><tr><td>R23</td><td>Credit Entry Refused by Receiver</td></tr><tr><td>R24</td><td>Duplicate Entry</td></tr><tr><td>R25</td><td>Addenda Error</td></tr><tr><td>R26</td><td>Mandatory Field Error</td></tr><tr><td>R27</td><td>Trace Number Error</td></tr><tr><td>R28</td><td>Routing Number Check Digit Error</td></tr><tr><td>R29</td><td>Corporate Customer Advises Not Authorized</td></tr><tr><td>R30</td><td>RDFI Not Participant in Check Truncation Program</td></tr><tr><td>R31</td><td>Permissible Return Entry (CCD and CTX only)</td></tr><tr><td>R32</td><td>RDFI Non-Settlement</td></tr><tr><td>R33</td><td>Return of XCK Entry</td></tr><tr><td>R34</td><td>Limited Participation DFI</td></tr><tr><td>R35</td><td>Return of Improper Debit Entry</td></tr><tr><td>R36</td><td>Return of Improper Credit Entry</td></tr><tr><td>R37</td><td>Source Document Presented for Payment</td></tr><tr><td>R38</td><td>Stop Payment on Source Document</td></tr><tr><td>R39</td><td>Improper Source Document/Source Document Presented for Payment</td></tr><tr><td>R40</td><td>Return of ENR Entry by Federal Government Agency</td></tr><tr><td>R41</td><td>Invalid Transaction Code</td></tr><tr><td>R42</td><td>Routing Number/Check Digit Error</td></tr><tr><td>R43</td><td>Invalid DFI Account Number</td></tr><tr><td>R44</td><td>Invalid Individual ID Number/Identification Number</td></tr><tr><td>R45</td><td>Invalid Individual Name/Company Name</td></tr><tr><td>R46</td><td>Invalid Representative Payee Indicator</td></tr><tr><td>R47</td><td>Duplicate Enrollment</td></tr><tr><td>R50</td><td>State Law Affecting RCK Acceptance</td></tr><tr><td>R51</td><td>Item Related to RCK Entry is Ineligible or RCK Entry is Improper</td></tr><tr><td>R52</td><td>Stop Payment on Item Related to RCK Entry</td></tr><tr><td>R53</td><td>Item and RCK Entry Presented for Payment</td></tr><tr><td>R61</td><td>Misrouted Return</td></tr><tr><td>R67</td><td>Duplicate Return</td></tr><tr><td>R68</td><td>Untimely Return</td></tr><tr><td>R69</td><td>Field Error(s)</td></tr><tr><td>R70</td><td>Permissible Return Entry Not Accepted/Return Not Requested by ODFI</td></tr><tr><td>R71</td><td>Misrouted Dishonored Return</td></tr><tr><td>R72</td><td>Untimely Dishonored Return</td></tr><tr><td>R73</td><td>Timely Original Return</td></tr><tr><td>R74</td><td>Corrected Return</td></tr><tr><td>R75</td><td>Return Not a Duplicate</td></tr><tr><td>R76</td><td>No Errors Found</td></tr><tr><td>R80</td><td>IAT Entry Coding Error</td></tr><tr><td>R81</td><td>Non-Particpant in IAT Program</td></tr><tr><td>R82</td><td>Invalid Foreign Receiving DFI Identification</td></tr><tr><td>R83</td><td>Foreign Receiving DFI Unable to Settle</td></tr><tr><td>R84</td><td>Entry Not Processed by Gateway</td></tr></tbody></table><hr><footer><div class=page-wrap><nav><h6>Product</h6><a href=https://www.dwolla.com/access-api>Access API</a></nav><nav><h6>Features</h6><a href=https://www.dwolla.com/bank-transfers>Bank Transfers</a> <a href=https://www.dwolla.com/mass-payments-api>Mass Payments</a> <a href=https://www.dwolla.com/same-day-ach>Same Day ACH</a> <a href=https://www.dwolla.com/white-label>White Label</a> <a href=https://www.dwolla.com/ach-transfer-dashboard>Dashboard & Admin</a> <a href=https://www.dwolla.com/dwollajs-bank-verification>Instant Bank Account Verification</a></nav><nav><h6>Account</h6><a href=https://accounts.dwolla.com/interest>Sign up</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=http://help.dwolla.com>Support</a> <a href=https://www.dwolla.com/security>Security</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy</a> <a href="https://www.dwolla.com/legal/tos/">Legal</a></nav><nav><h6>Case Studies</h6><a href="https://www.dwolla.com/updates/case-study-delivery-platform-leverages-dwolla-ach-api-for-payouts/">On-Demand Payouts</a> <a href="https://www.dwolla.com/updates/case-study-instagram-ad-platform-leverages-dwolla-api-for-payouts/">Ad Platform</a> <a href="https://www.dwolla.com/updates/dwolla-case-study-featuring-goat-for-ach-payouts/">Marketplace Payouts</a> <a href="https://www.dwolla.com/updates/kill-bill-adds-dwolla-to-offer-subscription-billing-with-ach-payments/">Subscription Billing</a> <a href="https://www.dwolla.com/updates/case-study-how-a-leading-rental-management-platform-used-an-ach-api/">Rental Collection</a> <a href="https://www.dwolla.com/updates/case-study-how-sweep-uses-dwolla-ach-api-for-bank-transfers/">Savings Tool</a> <a href="https://www.dwolla.com/updates/solar-investing-platform-uses-dwolla-api-to-power-bank-transfers/">Investment Platform</a> <a href="https://www.dwolla.com/updates/case-study-clear-capital-streamlines-disbursements-with-dwolla/">B2B Disbursements</a></nav><nav><h6>Learn more</h6><a href=https://www.dwolla.com/contact>Let's talk</a> <a href=https://developers.dwolla.com>Developer Docs</a> <a href=https://www.dwolla.com/updates>Updates</a> <a href=https://www.dwolla.com/press>Press</a> <a href=https://www.dwolla.com/careers>Careers</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p></div></section><section class=copyright><div class=page-wrap><div><span>© 2016 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.3a68.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script></body></html>